<div class="main-container">
    <app-control-panel (responseSelected)="updatResponseToSend($event)" *ngIf="!isgameOverAndlooser"></app-control-panel>
    <div class="game-panel">
        <div class="users-container">
            <h1>{{currentStep?.rang}}</h1>
            <ng-container *ngFor="let user of currentStep?.users">
                <app-user [user]="user" [isCurrentUser]="currentUser?.id == user.id"></app-user>
            </ng-container>
        </div>
        <div class="current-result">
            <app-response-card [number]="currentAverage"></app-response-card>
            <span class="operation multiplication">X</span>
            <span class="sel" *ngIf="serverParams && serverParams!.sel">{{serverParams.sel}}</span>
            <span class="operation">=</span>
            <ng-container *ngIf="serverParams && serverParams!.sel">
                <app-response-card [number]="currentAverage * serverParams.sel"></app-response-card>
            </ng-container>

        </div>

        <div>
            <app-timer *ngIf="timerDate" (counterEnd)="counterEnd()" [nmbrMilliSecond]="nmbrMilliSecond" [scheduler]="1000" [date]="timerDate"></app-timer>
        </div>
        <button (click)="lauchGame()" *ngIf="currentUser?.admin && currentStep?.rang == 0 && currentStep?.users?.length! >=2">Lauch Game</button>
        <button (click)="processGameOverLooser()" >Game Rules</button>
    </div>
    <app-game-over *ngIf="isgameOverAndlooser"></app-game-over>
    <!-- <app-game-rules></app-game-rules> -->
    <!-- <app-game-congrat></app-game-congrat> -->
</div>